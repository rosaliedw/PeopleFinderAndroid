<link rel="import" href="/includes.html">
<dom-module id="paper-contact-phone">

	<template>
		<style include="paper-contact-shared-styles">
			#sms-icon {
				position: absolute;
				right: 5%;
			}
		</style>

		<paper-icon-item class="item" on-tap="openInSameTab">
			<paper-ripple></paper-ripple>
			<iron-icon class="icon" icon="communication:phone" slot="item-icon"></iron-icon>
			<div class="text"><slot></slot></div>
		</paper-icon-item>
		<paper-icon-button id="sms-icon" class="icon" icon="communication:textsms" on-tap="_sendSms"></iron-icon-button>

	</template>

</dom-module>

<script>
	class PaperContactPhone extends Polymer.mixinBehaviors([Polymer.PaperContactBehavior], Polymer.Element) {
		static get is() { return 'paper-contact-phone'; }
		static get properties() {
			return {
				phoneNumber: {
					type: String
				}
			}
		}
		_getTargetUrl(content) {
			return 'tel:' + content;
		}

		_sendSms() {
			console.log('in send sms');
			window.location.assign(encodeURI('sms:' + this.phoneNumber));
		}
	}
	customElements.define(PaperContactPhone.is, PaperContactPhone);

</script>